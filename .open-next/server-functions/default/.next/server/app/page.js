(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(1658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},1135:()=>{},1204:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(1369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/aditya/Documents/FitAPP/AutoBot/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/aditya/Documents/FitAPP/AutoBot/src/app/page.tsx","default")},1630:a=>{"use strict";a.exports=require("http")},1997:a=>{"use strict";a.exports=require("punycode")},2794:()=>{},2962:()=>{},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3566:a=>{"use strict";a.exports=require("worker_threads")},3873:a=>{"use strict";a.exports=require("path")},4075:a=>{"use strict";a.exports=require("zlib")},4431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>g,viewport:()=>h});var d=c(7413),e=c(1001),f=c.n(e);c(1135);let g={title:"AutoBot - Cold Email Automation",description:"AI-powered cold email automation platform for job applications",keywords:["cold email","automation","job application","AI","email marketing"],authors:[{name:"AutoBot Team"}]},h={width:"device-width",initialScale:1};function i({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} font-sans antialiased`,children:a})})}},4821:(a,b,c)=>{Promise.resolve().then(c.bind(c,1204))},5591:a=>{"use strict";a.exports=require("https")},5768:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,5227,23)),Promise.resolve().then(c.t.bind(c,6346,23)),Promise.resolve().then(c.t.bind(c,7924,23)),Promise.resolve().then(c.t.bind(c,99,23)),Promise.resolve().then(c.t.bind(c,8243,23)),Promise.resolve().then(c.t.bind(c,8827,23)),Promise.resolve().then(c.t.bind(c,2763,23)),Promise.resolve().then(c.t.bind(c,7173,23)),Promise.resolve().then(c.bind(c,5587))},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6677:(a,b,c)=>{Promise.resolve().then(c.bind(c,7932))},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},7910:a=>{"use strict";a.exports=require("stream")},7932:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>aS});var d,e,f,g,h,i,j,k,l,m,n,o,p=c(687),q=c(3210);let r=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},s=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,q.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:e="",children:f,iconNode:g,...h},i)=>(0,q.createElement)("svg",{ref:i,...t,width:b,height:b,stroke:a,strokeWidth:d?24*Number(c)/Number(b):c,className:s("lucide",e),...!f&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(h)&&{"aria-hidden":"true"},...h},[...g.map(([a,b])=>(0,q.createElement)(a,b)),...Array.isArray(f)?f:[f]])),v=(a,b)=>{let c=(0,q.forwardRef)(({className:c,...d},e)=>(0,q.createElement)(u,{ref:e,iconNode:b,className:s(`lucide-${r(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...d}));return c.displayName=r(a),c},w=v("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),x=v("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),y=v("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),z=v("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),A=v("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),B=v("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),C=v("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),D=v("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),E=v("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),F=v("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),G=v("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),H=v("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),I=v("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function J({onResumeUpload:a,onNext:b}){let[c,d]=(0,q.useState)(!1),[e,f]=(0,q.useState)(null),[g,h]=(0,q.useState)(null),[i,j]=(0,q.useState)(!1),[k,l]=(0,q.useState)(!1),[m,n]=(0,q.useState)(!1),[o,r]=(0,q.useState)(!1),[s,t]=(0,q.useState)({name:"",email:"",phone:"",skills:[],experience:"",education:"",title:"",location:"",linkedin:"",website:"",summary:""}),[u,v]=(0,q.useState)(""),J=(0,q.useMemo)(()=>e?URL.createObjectURL(e):null,[e]),K=(0,q.useCallback)(()=>{J&&URL.revokeObjectURL(J)},[J]),L=a=>{f(a),l(!0),n(!1)},M=(0,q.useCallback)(()=>{s.name&&s.email&&(h({name:s.name,email:s.email,phone:s.phone,title:s.title,location:s.location,linkedin:s.linkedin,website:s.website,summary:s.summary,experience:s.experience||"Professional experience",education:s.education||"Education background",skills:u?u.split(",").map(a=>a.trim()):[],parsingMethod:o?"Manual Edit":"Manual Input"}),j(!0),r(!1),t({name:"",email:"",phone:"",title:"",location:"",linkedin:"",website:"",summary:"",experience:"",education:"",skills:[]}),v(""))},[s,u,o]),N=(0,q.useCallback)(()=>{n(!m)},[m]),O=(0,q.useCallback)(()=>{g&&(t({name:g.name||"",email:g.email||"",phone:g.phone||"",title:g.title||"",location:g.location||"",linkedin:g.linkedin||"",website:g.website||"",summary:g.summary||"",experience:g.experience||"",education:g.education||"",skills:[]}),v(g.skills?g.skills.join(", "):""),r(!0),l(!0),j(!1))},[g]),P=(0,q.useCallback)(()=>{r(!1),l(!1),j(!0),t({name:"",email:"",phone:"",title:"",location:"",linkedin:"",website:"",summary:"",experience:"",education:"",skills:[]}),v("")},[]);return(0,p.jsx)("div",{className:"w-full max-w-4xl mx-auto",children:(0,p.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 sm:p-6",children:[(0,p.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Upload Your Resume"}),(0,p.jsx)("p",{className:"text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base",children:"Upload your resume (PDF only) and enter your information manually. You can preview how your emails will look before proceeding."}),(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 space-y-2 sm:space-y-0",children:[(0,p.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:g&&`Resume data loaded (${g.parsingMethod||"Manual Input"} method)`}),(0,p.jsx)("div",{className:"flex space-x-2",children:(0,p.jsxs)("button",{onClick:()=>l(!k),className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1 sm:py-2 text-xs sm:text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,p.jsx)(w,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,p.jsx)("span",{className:"hidden sm:inline",children:"Add Resume Manually"}),(0,p.jsx)("span",{className:"sm:hidden",children:"Add Manually"})]})})]}),e||i?(0,p.jsxs)("div",{className:"space-y-4",children:[e&&(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 sm:p-4 bg-gray-50 rounded-lg space-y-2 sm:space-y-0",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,p.jsx)(y,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-500"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:e.name}),(0,p.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsxs)("button",{onClick:N,className:"text-blue-600 hover:text-blue-700 px-2 sm:px-3 py-1 text-xs sm:text-sm border border-blue-200 rounded-md hover:bg-blue-50",children:[(0,p.jsx)("span",{className:"hidden sm:inline",children:m?"Hide Preview":"Preview PDF"}),(0,p.jsx)("span",{className:"sm:hidden",children:m?"Hide":"Preview"})]}),(0,p.jsx)("button",{onClick:()=>{K(),f(null),h(null),j(!1),l(!1),n(!1)},className:"text-gray-400 hover:text-gray-600",children:(0,p.jsx)(z,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]}),m&&e&&J&&(0,p.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,p.jsx)("div",{className:"bg-gray-50 px-3 sm:px-4 py-2 border-b border-gray-200",children:(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[(0,p.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"PDF Preview"}),(0,p.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,p.jsxs)("a",{href:J,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 px-2 py-1 border border-blue-200 rounded hover:bg-blue-50",children:[(0,p.jsx)("span",{className:"hidden sm:inline",children:"Open in New Tab"}),(0,p.jsx)("span",{className:"sm:hidden",children:"Open"})]}),(0,p.jsxs)("a",{href:J,download:e.name,className:"text-xs text-green-600 hover:text-green-700 px-2 py-1 border border-green-200 rounded hover:bg-green-50",children:[(0,p.jsx)("span",{className:"hidden sm:inline",children:"Download"}),(0,p.jsx)("span",{className:"sm:hidden",children:"Save"})]}),(0,p.jsx)("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:(0,p.jsx)(z,{className:"h-4 w-4"})})]})]})}),(0,p.jsx)("div",{className:"h-64 sm:h-96 overflow-auto",children:(0,p.jsx)("iframe",{src:J,className:"w-full h-full border-0",title:"PDF Preview",onError:a=>{let b=a.target;b.style.display="none";let c=document.createElement("div");c.className="flex items-center justify-center h-full bg-gray-50",c.innerHTML=`
                            <div class="text-center">
                              <div class="text-gray-400 mb-2">
                                <svg class="w-12 h-12 mx-auto" fill="currentColor" viewBox="0 0 20 20">
                                  <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd" />
                                </svg>
                              </div>
                              <p class="text-sm text-gray-500">PDF preview not available</p>
                              <a href="${J}" target="_blank" class="text-xs text-blue-600 hover:text-blue-700 mt-2 inline-block">
                                Open in new tab
                              </a>
                            </div>
                          `,b.parentNode?.appendChild(c)}})})]})]}),i&&g&&(0,p.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-green-600",children:[(0,p.jsx)(A,{className:"h-6 w-6"}),(0,p.jsx)("span",{className:"font-medium text-xl",children:"Resume information ready!"})]}),(0,p.jsx)("button",{onClick:()=>j(!1),className:"text-green-600 hover:text-green-700",children:(0,p.jsx)(B,{className:"h-5 w-5"})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,p.jsx)(C,{className:"h-4 w-4 mr-2 text-blue-500"}),"Personal Information"]}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Name:"}),(0,p.jsx)("span",{className:"text-sm text-gray-900",children:g.name})]}),g.title&&(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Title:"}),(0,p.jsx)("span",{className:"text-sm text-gray-900",children:g.title})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(D,{className:"h-4 w-4 text-gray-400"}),(0,p.jsx)("span",{className:"text-sm text-gray-900",children:g.email})]}),g.phone&&(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(E,{className:"h-4 w-4 text-gray-400"}),(0,p.jsx)("span",{className:"text-sm text-gray-900",children:g.phone})]}),g.location&&(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Location:"}),(0,p.jsx)("span",{className:"text-sm text-gray-900",children:g.location})]}),g.linkedin&&(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"LinkedIn:"}),(0,p.jsx)("a",{href:g.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800",children:"View Profile"})]})]})]}),(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,p.jsx)(F,{className:"h-4 w-4 mr-2 text-blue-500"}),"Professional Summary"]}),(0,p.jsxs)("div",{className:"space-y-2",children:[g.summary&&(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Summary:"}),(0,p.jsx)("p",{className:"text-sm text-gray-900",children:g.summary})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Experience:"}),(0,p.jsx)("p",{className:"text-sm text-gray-900",children:g.experience})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Education:"}),(0,p.jsx)("p",{className:"text-sm text-gray-900",children:g.education})]}),g.website&&(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Website:"}),(0,p.jsx)("a",{href:g.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800",children:"Visit Portfolio"})]})]})]})]}),(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200 mb-6",children:[(0,p.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,p.jsx)(G,{className:"h-4 w-4 mr-2 text-blue-500"}),"Skills & Expertise"]}),(0,p.jsx)("div",{className:"flex flex-wrap gap-2",children:g.skills.map((a,b)=>(0,p.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:a},b))})]}),(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200 mb-6",children:[(0,p.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,p.jsx)(H,{className:"h-4 w-4 mr-2 text-blue-500"}),"Sample Email Preview"]}),(0,p.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,p.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"font-medium text-gray-600",children:"Subject:"}),(0,p.jsxs)("p",{className:"text-gray-900",children:["Job Application - ",g.name]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"font-medium text-gray-600",children:"Body Preview:"}),(0,p.jsx)("pre",{className:"text-gray-900 whitespace-pre-wrap font-sans text-sm",children:g?`Dear Hiring Manager,

I hope this email finds you well. I am writing to express my interest in potential opportunities at your company.

With my background in ${g.experience} and skills in ${g.skills.slice(0,3).join(", ")}, I believe I could be a valuable addition to your team.

I have attached my resume for your review and would welcome the opportunity to discuss how my experience aligns with your company's needs.

Thank you for your time and consideration.

Best regards,
${g.name}
${g.email}
${g.phone?g.phone:""}`:""})]})]})})]}),(0,p.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,p.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"How this will be used:"}),(0,p.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,p.jsx)("li",{children:"• Your name and contact information will be used in email signatures"}),(0,p.jsx)("li",{children:"• Your skills and experience will be referenced in personalized emails"}),(0,p.jsx)("li",{children:"• Your background will be tailored to match each company's needs"}),(0,p.jsx)("li",{children:"• This information will help generate compelling cold emails"})]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:[(0,p.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,p.jsx)("span",{children:"Edit Resume Details"})]}),(0,p.jsxs)("button",{onClick:()=>{g&&(a(g,e||void 0),j(!1))},className:"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,p.jsx)("span",{children:"Confirm & Continue"}),(0,p.jsx)(I,{className:"h-4 w-4"})]})]})]})]}):(0,p.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-6 sm:p-8 text-center transition-colors ${c?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:a=>{a.preventDefault(),d(!0)},onDragLeave:a=>{a.preventDefault(),d(!1)},onDrop:a=>{a.preventDefault(),d(!1);let b=Array.from(a.dataTransfer.files).find(a=>"application/pdf"===a.type);b&&L(b)},children:[(0,p.jsx)(x,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mb-3 sm:mb-4"}),(0,p.jsx)("p",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"Drop your resume here (PDF only)"}),(0,p.jsx)("p",{className:"text-gray-500 mb-3 sm:mb-4 text-sm",children:"Upload your resume and enter your information manually"}),(0,p.jsx)("input",{type:"file",accept:".pdf",onChange:a=>{let b=a.target.files?.[0];b&&"application/pdf"===b.type&&L(b)},className:"hidden",id:"resume-upload"}),(0,p.jsx)("label",{htmlFor:"resume-upload",className:"inline-flex items-center px-3 sm:px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 cursor-pointer",children:"Choose File"})]}),k&&(0,p.jsxs)("div",{className:"mt-6 p-4 sm:p-6 bg-gray-50 rounded-lg",children:[(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-6 space-y-2 sm:space-y-0",children:[(0,p.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:o?"Edit Professional Profile":"Professional Profile"}),(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,p.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Fill in your details to create personalized emails"}),o&&(0,p.jsx)("button",{onClick:P,className:"text-xs sm:text-sm text-red-600 hover:text-red-700 px-2 sm:px-3 py-1 border border-red-200 rounded-md hover:bg-red-50",children:"Cancel Edit"})]})]}),(0,p.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,p.jsxs)("h4",{className:"text-base sm:text-lg font-medium text-gray-800 mb-3 sm:mb-4 flex items-center",children:[(0,p.jsx)(C,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-500"}),"Personal Information"]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Full Name ",(0,p.jsx)("span",{className:"text-red-500",children:"*"}),(0,p.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Used in emails)"})]}),(0,p.jsx)("input",{type:"text",value:s.name,onChange:a=>t({...s,name:a.target.value}),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., Sarah Johnson, Michael Chen, or Dr. Emily Rodriguez",required:!0})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Professional Title",(0,p.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Used in emails)"})]}),(0,p.jsx)("input",{type:"text",value:s.title||"",onChange:a=>t({...s,title:a.target.value}),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., Senior Software Engineer, Product Manager, Data Scientist"})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Email Address ",(0,p.jsx)("span",{className:"text-red-500",children:"*"}),(0,p.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Used in emails)"})]}),(0,p.jsx)("input",{type:"email",value:s.email,onChange:a=>t({...s,email:a.target.value}),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"sarah.johnson@gmail.com or michael.chen@company.com",required:!0})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Phone Number",(0,p.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Used in emails)"})]}),(0,p.jsx)("input",{type:"tel",value:s.phone||"",onChange:a=>t({...s,phone:a.target.value}),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"+1 (555) 123-4567 or (555) 123-4567"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,p.jsx)("input",{type:"text",value:s.location||"",onChange:a=>t({...s,location:a.target.value}),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., San Francisco, CA or Remote"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"LinkedIn Profile"}),(0,p.jsx)("input",{type:"url",value:s.linkedin||"",onChange:a=>t({...s,linkedin:a.target.value}),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://linkedin.com/in/yourprofile"})]})]})]}),(0,p.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,p.jsxs)("h4",{className:"text-base sm:text-lg font-medium text-gray-800 mb-3 sm:mb-4 flex items-center",children:[(0,p.jsx)(F,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-500"}),"Professional Summary"]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Professional Summary"}),(0,p.jsx)("textarea",{value:s.summary||"",onChange:a=>t({...s,summary:a.target.value}),rows:3,className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., Experienced software engineer with 5+ years building scalable web applications. Passionate about clean code, user experience, and mentoring junior developers. Led teams of 3-5 developers and delivered projects on time and under budget."}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"A brief overview of your professional background and key strengths"})]})]}),(0,p.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,p.jsxs)("h4",{className:"text-base sm:text-lg font-medium text-gray-800 mb-3 sm:mb-4 flex items-center",children:[(0,p.jsx)(G,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-500"}),"Skills & Technologies"]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Key Skills & Technologies",(0,p.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Used in emails)"})]}),(0,p.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., JavaScript, React, Node.js, Python, AWS, Docker, Agile, Leadership, Project Management"}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Separate skills with commas. Include both technical and soft skills."})]})]}),(0,p.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,p.jsxs)("h4",{className:"text-base sm:text-lg font-medium text-gray-800 mb-3 sm:mb-4 flex items-center",children:[(0,p.jsx)(F,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-500"}),"Work Experience"]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Professional Experience Summary",(0,p.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Used in emails)"})]}),(0,p.jsx)("textarea",{value:s.experience,onChange:a=>t({...s,experience:a.target.value}),rows:4,className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., 5+ years of full-stack development experience with expertise in React, Node.js, and cloud technologies. Led development of scalable web applications and mentored junior developers. Successfully delivered 10+ projects with 99.9% uptime."}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Highlight your most relevant experience, achievements, and impact"})]})]}),(0,p.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,p.jsxs)("h4",{className:"text-base sm:text-lg font-medium text-gray-800 mb-3 sm:mb-4 flex items-center",children:[(0,p.jsx)(C,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-500"}),"Education & Certifications"]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Education & Certifications",(0,p.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Used in emails)"})]}),(0,p.jsx)("textarea",{value:s.education,onChange:a=>t({...s,education:a.target.value}),rows:3,className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g., Bachelor's in Computer Science from Stanford University, AWS Certified Solutions Architect, Google Cloud Professional Developer, Certified Scrum Master"}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Include degrees, certifications, and relevant training"})]})]}),(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsxs)("h4",{className:"text-base sm:text-lg font-medium text-gray-800 mb-3 sm:mb-4 flex items-center",children:[(0,p.jsx)(D,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-500"}),"Additional Information"]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Personal Website/Portfolio"}),(0,p.jsx)("input",{type:"url",value:s.website||"",onChange:a=>t({...s,website:a.target.value}),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://yourportfolio.com or https://github.com/yourusername"}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Your portfolio, GitHub, or personal website"})]})]}),(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pt-4 sm:pt-6 border-t border-gray-200 space-y-3 sm:space-y-0",children:[(0,p.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:[(0,p.jsx)("span",{className:"text-red-500",children:"*"})," Required fields • ",(0,p.jsx)("span",{className:"text-blue-500",children:"(Used in emails)"})," = Will appear in generated emails"]}),(0,p.jsx)("button",{onClick:M,disabled:!s.name||!s.email,className:"px-4 sm:px-6 py-2 sm:py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm sm:text-base",children:o?"Update Resume Data":"Preview Resume Data"})]})]}),g&&!i&&b&&(0,p.jsx)("div",{className:"flex justify-end mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-200",children:(0,p.jsxs)("button",{onClick:()=>{a(g,e||void 0),b()},className:"flex items-center space-x-2 px-4 sm:px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[(0,p.jsx)("span",{children:"Next: Upload Contacts"}),(0,p.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})}let K=v("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);async function L(a){let b=a.split("\n").filter(a=>a.trim()),c=[];for(let a=0;a<b.length;a++){let d=b[a].trim();if(!d||d.toLowerCase().includes("sno")&&d.toLowerCase().includes("name")||d.toLowerCase().includes("serial")||d.toLowerCase().includes("no.")||d.toLowerCase().includes("name")&&d.toLowerCase().includes("email")&&d.toLowerCase().includes("title"))continue;let e=function(a){let b=a.replace(/\s+/g," ").trim(),c=b.split(/\s{2,}/);if(c.length<4)return M(b);let d=parseInt(c[0])||1,e=c[1]||"",f=c[2]||"",g=c[3]||"",h=c[4]||"";return e&&f&&h&&f.includes("@")?{sno:d,name:e.trim(),email:f.trim(),title:g.trim(),company:h.trim()}:null}(d)||M(d);e&&c.push(e)}return c}function M(a){let b=a.replace(/\s+/g," ").trim().split(" "),c=b.findIndex(a=>a.includes("@")&&a.includes(".")&&!a.includes("http")&&!a.includes("www"));if(-1===c)return null;let d=b[c],e=1;b[0]&&!isNaN(Number(b[0]))&&(e=parseInt(b[0]));let f=b.slice(1,c).join(" "),g=b.slice(c+1),h="",i="";if(g.length>0){let a=g[g.length-1];["Technologies","Systems","Solutions","Ltd","Inc","Corp","Company","Group"].some(b=>a.includes(b)),h=a,i=g.slice(0,-1).join(" ")}return f&&d&&h?{sno:e,name:f.trim(),email:d.trim(),title:i.trim(),company:h.trim()}:null}function N({onContactsUpload:a,onPrevious:b,onNext:c}){let[d,e]=(0,q.useState)(!1),[f,g]=(0,q.useState)(!1),[h,i]=(0,q.useState)(null),[j,k]=(0,q.useState)([]),[l,m]=(0,q.useState)(!1),[n,o]=(0,q.useState)(!1),[r,s]=(0,q.useState)({name:"",email:"",title:"",company:""}),t=async a=>{g(!0),i(a);try{let b=new FormData;b.append("file",a);let c=await fetch("/api/parse-contacts",{method:"POST",body:b});if(c.ok){let a=await c.json();k(a.contacts),o(!0)}else throw Error("Failed to parse contacts")}catch(c){console.error("Error parsing contacts:",c);let b=await a.text();k(await L(b)),o(!0)}finally{g(!1)}},u=(()=>{let a=[...new Set(j.map(a=>a.company))];return{totalCompanies:a.length,totalContacts:j.length,companies:a}})();return(0,p.jsx)("div",{className:"w-full max-w-4xl mx-auto",children:(0,p.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Upload Contact List"}),(0,p.jsx)("p",{className:"text-gray-600 mb-6",children:'Upload a CSV file with contact information. The CSV should have columns for: Name, Email, Title (optional), and Company. You can also upload a PDF with contact tables, or add contacts manually. Click "Download Sample CSV" to see the expected format.'}),(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsx)("div",{className:"text-sm text-gray-600",children:j.length>0&&`${j.length} contacts loaded`}),(0,p.jsxs)("div",{className:"flex space-x-2",children:[(0,p.jsxs)("button",{onClick:()=>m(!l),className:"flex items-center space-x-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,p.jsx)(w,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:"Add Contact Manually"})]}),(0,p.jsx)("button",{onClick:()=>{let a=new Blob([`SNo,Name,Email,Title,Company
1,John Doe,john.doe@company.com,HR Manager,ABC Corp
2,Jane Smith,jane.smith@tech.com,Recruiter,Tech Solutions
3,Mike Johnson,mike.j@startup.com,HR Director,Startup Inc
4,Sarah Wilson,sarah.w@enterprise.com,Senior Recruiter,Enterprise Ltd
5,David Brown,david.b@consulting.com,HR Consultant,Consulting Group`],{type:"text/csv"}),b=window.URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download="sample_contacts.csv",document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(b)},className:"flex items-center space-x-2 px-3 py-2 text-sm bg-purple-600 text-white rounded-md hover:bg-purple-700",children:(0,p.jsx)("span",{children:"Download Sample CSV"})}),(0,p.jsx)("button",{onClick:()=>{k([{sno:1,name:"Akanksha Puri",email:"akanksha.puri@sourcefuse.com",title:"Associate Director HR",company:"SourceFuse Technologies"},{sno:2,name:"Akhil Jogiparthi",email:"akhil@ibhubs.co",title:"Vice President - Talent Accelerator",company:"iB Hubs"},{sno:3,name:"Akhila Chandan",email:"akhila@estuate.com",title:"Associate Vice President Human Resources",company:"Estuate"},{sno:4,name:"Akshay Kumar",email:"akshay.kumar@techcorp.com",title:"Senior HR Manager",company:"TechCorp Solutions"},{sno:5,name:"Anita Sharma",email:"anita.sharma@innovate.com",title:"HR Director",company:"InnovateTech"}]),o(!0)},className:"flex items-center space-x-2 px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700",children:(0,p.jsx)("span",{children:"Load Sample Data"})})]})]}),h||n?(0,p.jsxs)("div",{className:"space-y-4",children:[h&&(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)(y,{className:"h-8 w-8 text-blue-500"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-medium text-gray-900",children:h.name}),(0,p.jsxs)("p",{className:"text-sm text-gray-500",children:[(h.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,p.jsx)("button",{onClick:()=>{i(null),k([]),o(!1)},className:"text-gray-400 hover:text-gray-600",children:(0,p.jsx)(z,{className:"h-5 w-5"})})]}),f&&(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600",children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,p.jsx)("span",{children:"Processing contacts..."})]}),n&&j.length>0&&!f&&(0,p.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-green-600",children:[(0,p.jsx)(A,{className:"h-5 w-5"}),(0,p.jsxs)("span",{className:"font-medium text-lg",children:[j.length," contacts processed successfully!"]})]}),(0,p.jsx)("button",{onClick:()=>o(!1),className:"text-green-600 hover:text-green-700",children:(0,p.jsx)(B,{className:"h-5 w-5"})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-green-600",children:u.totalContacts}),(0,p.jsx)("div",{className:"text-sm text-green-600",children:"Total Contacts"})]}),(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-green-600",children:u.totalCompanies}),(0,p.jsx)("div",{className:"text-sm text-green-600",children:"Companies"})]}),(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Math.round(u.totalContacts/u.totalCompanies*10)/10}),(0,p.jsx)("div",{className:"text-sm text-green-600",children:"Avg Contacts/Company"})]})]}),(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Companies Found:"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[u.companies.slice(0,6).map(a=>{let b=j.filter(b=>b.company===a);return(0,p.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:a}),(0,p.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[b.length," contact",b.length>1?"s":""]})]},a)}),u.companies.length>6&&(0,p.jsxs)("div",{className:"text-sm text-gray-500",children:["... and ",u.companies.length-6," more companies"]})]})]}),(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Sample Contacts (First 5):"}),(0,p.jsxs)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[j.slice(0,5).map((a,b)=>(0,p.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-white rounded border",children:[(0,p.jsx)(K,{className:"h-4 w-4 text-gray-400"}),(0,p.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),(0,p.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.email}),(0,p.jsxs)("p",{className:"text-xs text-gray-400 truncate",children:[a.title," at ",a.company]})]})]},b)),j.length>5&&(0,p.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["... and ",j.length-5," more contacts"]})]})]}),(0,p.jsx)("div",{className:"flex justify-end",children:(0,p.jsxs)("button",{onClick:()=>{a(j),o(!1)},className:"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,p.jsx)("span",{children:"Confirm & Continue"}),(0,p.jsx)(I,{className:"h-4 w-4"})]})})]})]}):(0,p.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${d?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:a=>{a.preventDefault(),e(!0)},onDragLeave:a=>{a.preventDefault(),e(!1)},onDrop:a=>{a.preventDefault(),e(!1);let b=Array.from(a.dataTransfer.files).find(a=>"application/pdf"===a.type||a.name.endsWith(".csv"));b&&t(b)},children:[(0,p.jsx)(x,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,p.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop your contacts PDF or CSV here"}),(0,p.jsx)("p",{className:"text-gray-500 mb-4",children:"or click to browse files"}),(0,p.jsx)("input",{type:"file",accept:".pdf,.csv",onChange:a=>{let b=a.target.files?.[0];b&&("application/pdf"===b.type||b.name.endsWith(".csv"))&&t(b)},className:"hidden",id:"contacts-upload"}),(0,p.jsx)("label",{htmlFor:"contacts-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 cursor-pointer",children:"Choose File"})]}),l&&(0,p.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Contact Manually"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,p.jsx)("input",{type:"text",value:r.name,onChange:a=>s({...r,name:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full Name"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,p.jsx)("input",{type:"email",value:r.email,onChange:a=>s({...r,email:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@company.com"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,p.jsx)("input",{type:"text",value:r.title,onChange:a=>s({...r,title:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Job Title"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company *"}),(0,p.jsx)("input",{type:"text",value:r.company,onChange:a=>s({...r,company:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Company Name"})]})]}),(0,p.jsx)("button",{onClick:()=>{if(r.name&&r.email&&r.company){let a={sno:j.length+1,name:r.name,email:r.email,title:r.title,company:r.company};k([...j,a]),s({name:"",email:"",title:"",company:""})}},disabled:!r.name||!r.email||!r.company,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Contact"})]}),j.length>0&&!n&&(0,p.jsxs)("div",{className:"mt-6",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Loaded Contacts"}),(0,p.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:j.map((a,b)=>(0,p.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"font-medium text-gray-900",children:a.name}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:a.email}),(0,p.jsxs)("p",{className:"text-xs text-gray-500",children:[a.title," at ",a.company]})]}),(0,p.jsx)("button",{onClick:()=>{k(j.filter((a,c)=>c!==b))},className:"text-red-600 hover:text-red-700 p-1",title:"Remove contact",children:(0,p.jsx)(z,{className:"h-4 w-4"})})]},b))}),(0,p.jsx)("div",{className:"mt-4 flex justify-end",children:(0,p.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,p.jsx)(H,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:"Preview & Continue"})]})})]}),!n&&(0,p.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-gray-200",children:[b&&(0,p.jsxs)("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,p.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,p.jsx)("span",{children:"Previous"})]}),j.length>0&&c&&(0,p.jsxs)("button",{onClick:()=>{a(j),c()},className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,p.jsx)("span",{children:"Next: Generate Emails"}),(0,p.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})}let O=v("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),P=v("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Q=v("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),R=v("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),S=v("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);!function(a){a.STRING="string",a.NUMBER="number",a.INTEGER="integer",a.BOOLEAN="boolean",a.ARRAY="array",a.OBJECT="object"}(d||(d={})),function(a){a.LANGUAGE_UNSPECIFIED="language_unspecified",a.PYTHON="python"}(e||(e={})),function(a){a.OUTCOME_UNSPECIFIED="outcome_unspecified",a.OUTCOME_OK="outcome_ok",a.OUTCOME_FAILED="outcome_failed",a.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(f||(f={}));let T=["user","model","function","system"];!function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(g||(g={})),function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"}(h||(h={})),function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"}(i||(i={})),function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER"}(j||(j={})),function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.OTHER="OTHER"}(k||(k={})),function(a){a.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",a.RETRIEVAL_QUERY="RETRIEVAL_QUERY",a.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",a.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",a.CLASSIFICATION="CLASSIFICATION",a.CLUSTERING="CLUSTERING"}(l||(l={})),function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"}(m||(m={})),function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"}(n||(n={}));class U extends Error{constructor(a){super(`[GoogleGenerativeAI Error]: ${a}`)}}class V extends U{constructor(a,b){super(a),this.response=b}}class W extends U{constructor(a,b,c,d){super(a),this.status=b,this.statusText=c,this.errorDetails=d}}class X extends U{}class Y extends U{}!function(a){a.GENERATE_CONTENT="generateContent",a.STREAM_GENERATE_CONTENT="streamGenerateContent",a.COUNT_TOKENS="countTokens",a.EMBED_CONTENT="embedContent",a.BATCH_EMBED_CONTENTS="batchEmbedContents"}(o||(o={}));class Z{constructor(a,b,c,d,e){this.model=a,this.task=b,this.apiKey=c,this.stream=d,this.requestOptions=e}toString(){var a,b;let c=(null==(a=this.requestOptions)?void 0:a.apiVersion)||"v1beta",d=(null==(b=this.requestOptions)?void 0:b.baseUrl)||"https://generativelanguage.googleapis.com",e=`${d}/${c}/${this.model}:${this.task}`;return this.stream&&(e+="?alt=sse"),e}}async function $(a){var b;let c=new Headers;c.append("Content-Type","application/json"),c.append("x-goog-api-client",function(a){let b=[];return(null==a?void 0:a.apiClient)&&b.push(a.apiClient),b.push("genai-js/0.24.1"),b.join(" ")}(a.requestOptions)),c.append("x-goog-api-key",a.apiKey);let d=null==(b=a.requestOptions)?void 0:b.customHeaders;if(d){if(!(d instanceof Headers))try{d=new Headers(d)}catch(a){throw new X(`unable to convert customHeaders value ${JSON.stringify(d)} to Headers: ${a.message}`)}for(let[a,b]of d.entries()){if("x-goog-api-key"===a)throw new X(`Cannot set reserved header name ${a}`);if("x-goog-api-client"===a)throw new X(`Header name ${a} can only be set using the apiClient field`);c.append(a,b)}}return c}async function _(a,b,c,d,e,f){let g=new Z(a,b,c,d,f);return{url:g.toString(),fetchOptions:Object.assign(Object.assign({},function(a){let b={};if((null==a?void 0:a.signal)!==void 0||(null==a?void 0:a.timeout)>=0){let c=new AbortController;(null==a?void 0:a.timeout)>=0&&setTimeout(()=>c.abort(),a.timeout),(null==a?void 0:a.signal)&&a.signal.addEventListener("abort",()=>{c.abort()}),b.signal=c.signal}return b}(f)),{method:"POST",headers:await $(g),body:e})}}async function aa(a,b,c,d,e,f={},g=fetch){let{url:h,fetchOptions:i}=await _(a,b,c,d,e,f);return ab(h,i,g)}async function ab(a,b,c=fetch){let d;try{d=await c(a,b)}catch(c){var e=c,f=a;let b=e;throw"AbortError"===b.name?(b=new Y(`Request aborted when fetching ${f.toString()}: ${e.message}`)).stack=e.stack:e instanceof W||e instanceof X||((b=new U(`Error fetching from ${f.toString()}: ${e.message}`)).stack=e.stack),b}return d.ok||await ac(d,a),d}async function ac(a,b){let c,d="";try{let b=await a.json();d=b.error.message,b.error.details&&(d+=` ${JSON.stringify(b.error.details)}`,c=b.error.details)}catch(a){}throw new W(`Error fetching from ${b.toString()}: [${a.status} ${a.statusText}] ${d}`,a.status,a.statusText,c)}function ad(a){return a.text=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ag(a.candidates[0]))throw new V(`${ah(a)}`,a);return function(a){var b,c,d,e;let f=[];if(null==(c=null==(b=a.candidates)?void 0:b[0].content)?void 0:c.parts)for(let b of null==(e=null==(d=a.candidates)?void 0:d[0].content)?void 0:e.parts)b.text&&f.push(b.text),b.executableCode&&f.push("\n```"+b.executableCode.language+"\n"+b.executableCode.code+"\n```\n"),b.codeExecutionResult&&f.push("\n```\n"+b.codeExecutionResult.output+"\n```\n");return f.length>0?f.join(""):""}(a)}if(a.promptFeedback)throw new V(`Text not available. ${ah(a)}`,a);return""},a.functionCall=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ag(a.candidates[0]))throw new V(`${ah(a)}`,a);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ae(a)[0]}if(a.promptFeedback)throw new V(`Function call not available. ${ah(a)}`,a)},a.functionCalls=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ag(a.candidates[0]))throw new V(`${ah(a)}`,a);return ae(a)}if(a.promptFeedback)throw new V(`Function call not available. ${ah(a)}`,a)},a}function ae(a){var b,c,d,e;let f=[];if(null==(c=null==(b=a.candidates)?void 0:b[0].content)?void 0:c.parts)for(let b of null==(e=null==(d=a.candidates)?void 0:d[0].content)?void 0:e.parts)b.functionCall&&f.push(b.functionCall);return f.length>0?f:void 0}let af=[k.RECITATION,k.SAFETY,k.LANGUAGE];function ag(a){return!!a.finishReason&&af.includes(a.finishReason)}function ah(a){var b,c,d;let e="";if((!a.candidates||0===a.candidates.length)&&a.promptFeedback)e+="Response was blocked",(null==(b=a.promptFeedback)?void 0:b.blockReason)&&(e+=` due to ${a.promptFeedback.blockReason}`),(null==(c=a.promptFeedback)?void 0:c.blockReasonMessage)&&(e+=`: ${a.promptFeedback.blockReasonMessage}`);else if(null==(d=a.candidates)?void 0:d[0]){let b=a.candidates[0];ag(b)&&(e+=`Candidate was blocked due to ${b.finishReason}`,b.finishMessage&&(e+=`: ${b.finishMessage}`))}return e}function ai(a){return this instanceof ai?(this.v=a,this):new ai(a)}"function"==typeof SuppressedError&&SuppressedError;let aj=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function ak(a){let b=[],c=a.getReader();for(;;){let{done:a,value:d}=await c.read();if(a)return ad(function(a){let b=a[a.length-1],c={promptFeedback:null==b?void 0:b.promptFeedback};for(let b of a){if(b.candidates){let a=0;for(let d of b.candidates)if(c.candidates||(c.candidates=[]),c.candidates[a]||(c.candidates[a]={index:a}),c.candidates[a].citationMetadata=d.citationMetadata,c.candidates[a].groundingMetadata=d.groundingMetadata,c.candidates[a].finishReason=d.finishReason,c.candidates[a].finishMessage=d.finishMessage,c.candidates[a].safetyRatings=d.safetyRatings,d.content&&d.content.parts){c.candidates[a].content||(c.candidates[a].content={role:d.content.role||"user",parts:[]});let b={};for(let e of d.content.parts)e.text&&(b.text=e.text),e.functionCall&&(b.functionCall=e.functionCall),e.executableCode&&(b.executableCode=e.executableCode),e.codeExecutionResult&&(b.codeExecutionResult=e.codeExecutionResult),0===Object.keys(b).length&&(b.text=""),c.candidates[a].content.parts.push(b)}a++}b.usageMetadata&&(c.usageMetadata=b.usageMetadata)}return c}(b));b.push(d)}}async function al(a,b,c,d){let[e,f]=(function(a){let b=a.getReader();return new ReadableStream({start(a){let c="";return function d(){return b.read().then(({value:b,done:e})=>{let f;if(e)return c.trim()?void a.error(new U("Failed to parse stream")):void a.close();let g=(c+=b).match(aj);for(;g;){try{f=JSON.parse(g[1])}catch(b){a.error(new U(`Error parsing JSON response: "${g[1]}"`));return}a.enqueue(f),g=(c=c.substring(g[0].length)).match(aj)}return d()}).catch(a=>{let b=a;throw b.stack=a.stack,b="AbortError"===b.name?new Y("Request aborted when reading from the stream"):new U("Error reading from the stream")})}()}})})((await aa(b,o.STREAM_GENERATE_CONTENT,a,!0,JSON.stringify(c),d)).body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))).tee();return{stream:function(a){return function(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{var c;(c=e[a](b)).value instanceof ai?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}(this,arguments,function*(){let b=a.getReader();for(;;){let{value:a,done:c}=yield ai(b.read());if(c)break;yield yield ai(ad(a))}})}(e),response:ak(f)}}async function am(a,b,c,d){let e=await aa(b,o.GENERATE_CONTENT,a,!1,JSON.stringify(c),d);return{response:ad(await e.json())}}function an(a){if(null!=a){if("string"==typeof a)return{role:"system",parts:[{text:a}]};if(a.text)return{role:"system",parts:[a]};if(a.parts)if(!a.role)return{role:"system",parts:a.parts};else return a}}function ao(a){let b=[];if("string"==typeof a)b=[{text:a}];else for(let c of a)"string"==typeof c?b.push({text:c}):b.push(c);var c=b;let d={role:"user",parts:[]},e={role:"function",parts:[]},f=!1,g=!1;for(let a of c)"functionResponse"in a?(e.parts.push(a),g=!0):(d.parts.push(a),f=!0);if(f&&g)throw new U("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!f&&!g)throw new U("No content is provided for sending chat message.");return f?d:e}function ap(a){let b;return b=a.contents?a:{contents:[ao(a)]},a.systemInstruction&&(b.systemInstruction=an(a.systemInstruction)),b}let aq=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],ar={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function as(a){var b;if(void 0===a.candidates||0===a.candidates.length)return!1;let c=null==(b=a.candidates[0])?void 0:b.content;if(void 0===c||void 0===c.parts||0===c.parts.length)return!1;for(let a of c.parts)if(void 0===a||0===Object.keys(a).length||void 0!==a.text&&""===a.text)return!1;return!0}let at="SILENT_ERROR";class au{constructor(a,b,c,d={}){this.model=b,this.params=c,this._requestOptions=d,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=a,(null==c?void 0:c.history)&&(!function(a){let b=!1;for(let c of a){let{role:a,parts:d}=c;if(!b&&"user"!==a)throw new U(`First content should be with role 'user', got ${a}`);if(!T.includes(a))throw new U(`Each item should include role field. Got ${a} but valid roles are: ${JSON.stringify(T)}`);if(!Array.isArray(d))throw new U("Content should have 'parts' property with an array of Parts");if(0===d.length)throw new U("Each Content should have at least one part");let e={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let a of d)for(let b of aq)b in a&&(e[b]+=1);let f=ar[a];for(let b of aq)if(!f.includes(b)&&e[b]>0)throw new U(`Content with role '${a}' can't contain '${b}' part`);b=!0}}(c.history),this._history=c.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(a,b={}){var c,d,e,f,g,h;let i;await this._sendPromise;let j=ao(a),k={safetySettings:null==(c=this.params)?void 0:c.safetySettings,generationConfig:null==(d=this.params)?void 0:d.generationConfig,tools:null==(e=this.params)?void 0:e.tools,toolConfig:null==(f=this.params)?void 0:f.toolConfig,systemInstruction:null==(g=this.params)?void 0:g.systemInstruction,cachedContent:null==(h=this.params)?void 0:h.cachedContent,contents:[...this._history,j]},l=Object.assign(Object.assign({},this._requestOptions),b);return this._sendPromise=this._sendPromise.then(()=>am(this._apiKey,this.model,k,l)).then(a=>{var b;if(as(a.response)){this._history.push(j);let c=Object.assign({parts:[],role:"model"},null==(b=a.response.candidates)?void 0:b[0].content);this._history.push(c)}else{let b=ah(a.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}i=a}).catch(a=>{throw this._sendPromise=Promise.resolve(),a}),await this._sendPromise,i}async sendMessageStream(a,b={}){var c,d,e,f,g,h;await this._sendPromise;let i=ao(a),j={safetySettings:null==(c=this.params)?void 0:c.safetySettings,generationConfig:null==(d=this.params)?void 0:d.generationConfig,tools:null==(e=this.params)?void 0:e.tools,toolConfig:null==(f=this.params)?void 0:f.toolConfig,systemInstruction:null==(g=this.params)?void 0:g.systemInstruction,cachedContent:null==(h=this.params)?void 0:h.cachedContent,contents:[...this._history,i]},k=Object.assign(Object.assign({},this._requestOptions),b),l=al(this._apiKey,this.model,j,k);return this._sendPromise=this._sendPromise.then(()=>l).catch(a=>{throw Error(at)}).then(a=>a.response).then(a=>{if(as(a)){this._history.push(i);let b=Object.assign({},a.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{let b=ah(a);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(a=>{a.message!==at&&console.error(a)}),l}}async function av(a,b,c,d){return(await aa(b,o.COUNT_TOKENS,a,!1,JSON.stringify(c),d)).json()}async function aw(a,b,c,d){return(await aa(b,o.EMBED_CONTENT,a,!1,JSON.stringify(c),d)).json()}async function ax(a,b,c,d){let e=c.requests.map(a=>Object.assign(Object.assign({},a),{model:b}));return(await aa(b,o.BATCH_EMBED_CONTENTS,a,!1,JSON.stringify({requests:e}),d)).json()}class ay{constructor(a,b,c={}){this.apiKey=a,this._requestOptions=c,b.model.includes("/")?this.model=b.model:this.model=`models/${b.model}`,this.generationConfig=b.generationConfig||{},this.safetySettings=b.safetySettings||[],this.tools=b.tools,this.toolConfig=b.toolConfig,this.systemInstruction=an(b.systemInstruction),this.cachedContent=b.cachedContent}async generateContent(a,b={}){var c;let d=ap(a),e=Object.assign(Object.assign({},this._requestOptions),b);return am(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(c=this.cachedContent)?void 0:c.name},d),e)}async generateContentStream(a,b={}){var c;let d=ap(a),e=Object.assign(Object.assign({},this._requestOptions),b);return al(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(c=this.cachedContent)?void 0:c.name},d),e)}startChat(a){var b;return new au(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(b=this.cachedContent)?void 0:b.name},a),this._requestOptions)}async countTokens(a,b={}){let c=function(a,b){var c;let d={model:null==b?void 0:b.model,generationConfig:null==b?void 0:b.generationConfig,safetySettings:null==b?void 0:b.safetySettings,tools:null==b?void 0:b.tools,toolConfig:null==b?void 0:b.toolConfig,systemInstruction:null==b?void 0:b.systemInstruction,cachedContent:null==(c=null==b?void 0:b.cachedContent)?void 0:c.name,contents:[]},e=null!=a.generateContentRequest;if(a.contents){if(e)throw new X("CountTokensRequest must have one of contents or generateContentRequest, not both.");d.contents=a.contents}else if(e)d=Object.assign(Object.assign({},d),a.generateContentRequest);else{let b=ao(a);d.contents=[b]}return{generateContentRequest:d}}(a,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),d=Object.assign(Object.assign({},this._requestOptions),b);return av(this.apiKey,this.model,c,d)}async embedContent(a,b={}){let c="string"==typeof a||Array.isArray(a)?{content:ao(a)}:a,d=Object.assign(Object.assign({},this._requestOptions),b);return aw(this.apiKey,this.model,c,d)}async batchEmbedContents(a,b={}){let c=Object.assign(Object.assign({},this._requestOptions),b);return ax(this.apiKey,this.model,a,c)}}class az{constructor(a){this.apiKey=a}getGenerativeModel(a,b){if(!a.model)throw new U("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new ay(this.apiKey,a,b)}getGenerativeModelFromCachedContent(a,b,c){if(!a.name)throw new X("Cached content must contain a `name` field.");if(!a.model)throw new X("Cached content must contain a `model` field.");for(let c of["model","systemInstruction"])if((null==b?void 0:b[c])&&a[c]&&(null==b?void 0:b[c])!==a[c]){if("model"===c&&(b.model.startsWith("models/")?b.model.replace("models/",""):b.model)===(a.model.startsWith("models/")?a.model.replace("models/",""):a.model))continue;throw new X(`Different value for "${c}" specified in modelParams (${b[c]}) and cachedContent (${a[c]})`)}let d=Object.assign(Object.assign({},b),{model:a.model,tools:a.tools,toolConfig:a.toolConfig,systemInstruction:a.systemInstruction,cachedContent:a});return new ay(this.apiKey,d,c)}}let aA=new az("AIzaSyAWmA7Qu0utvI9llx7Z7CFaYRqhWgGO6vI"),aB=0,aC=0;async function aD(a,b){try{if(Date.now()-aC<4e3||aB>=15)return console.warn("Rate limit reached, using template-based email generation"),aE(a,b);let c=aA.getGenerativeModel({model:"gemini-1.5-pro"}),d=`
You are an expert at writing compelling cold emails for job applications. 
Please write a personalized cold email for the following:

CONTACT INFORMATION:
- Name: ${a.name}
- Title: ${a.title}
- Company: ${a.company}
- Email: ${a.email}

CANDIDATE INFORMATION:
- Name: ${b.name}
- Experience: ${b.experience}
- Skills: ${b.skills.join(", ")}
- Education: ${b.education}

Please create:
1. A compelling subject line (max 60 characters)
2. A personalized email body (max 300 words) that:
   - Shows you've researched the company
   - Highlights relevant skills and experience
   - Explains why you're interested in the company
   - Includes a clear call to action
   - Is professional but not overly formal
   - Mentions that you're attaching your resume

Format the response as JSON:
{
  "subject": "Your subject line here",
  "body": "Your email body here"
}
`;aB++,aC=Date.now(),setTimeout(()=>{aB=Math.max(0,aB-1)},6e4);let e=await c.generateContent(d),f=(await e.response).text();try{let a=JSON.parse(f);return{subject:a.subject||"Job Application - Your Name",body:a.body||"Default email body"}}catch{let a=f.split("\n"),b=a.find(a=>a.includes("Subject:")||a.includes("subject:"))?.replace(/.*[Ss]ubject:\s*/,"")||"Job Application - Your Name",c=f.replace(/.*[Ss]ubject:.*\n/,"").trim();return{subject:b.substring(0,60),body:c.substring(0,1500)}}}catch(d){console.error("Error generating cold email:",d);let c=d instanceof Error?d.message:"";return(c.includes("quota")||c.includes("rate")||c.includes("limit"))&&console.warn("Gemini API quota exceeded, using template-based email generation"),aE(a,b)}}function aE(a,b){let c=[{subject:`Job Application - ${b.name} for ${a.company}`,body:`Dear ${a.name},

I hope this email finds you well. I am writing to express my interest in potential opportunities at ${a.company}.

With my background in ${b.experience} and skills in ${b.skills.slice(0,3).join(", ")}, I believe I could be a valuable addition to your team.

I have attached my resume for your review and would welcome the opportunity to discuss how my experience aligns with your company's needs.

Thank you for your time and consideration.

Best regards,
${b.name}
${b.email}
${b.phone?b.phone:""}`},{subject:`Interested in joining ${a.company} - ${b.name}`,body:`Dear ${a.name},

I hope you're having a great day. I'm reaching out because I'm very interested in the work ${a.company} is doing and would love to explore potential opportunities to contribute to your team.

My experience in ${b.experience} has equipped me with the skills needed to make an immediate impact. I'm particularly excited about ${a.company}'s mission and believe my background in ${b.skills.slice(0,2).join(" and ")} would be valuable to your organization.

I've attached my resume and would appreciate the opportunity to discuss how I can contribute to ${a.company}'s continued success.

Thank you for considering my application.

Best regards,
${b.name}
${b.email}`},{subject:`Career Opportunity at ${a.company}`,body:`Dear ${a.name},

I hope this message reaches you well. I am writing to express my strong interest in career opportunities at ${a.company}.

With my background in ${b.experience} and expertise in ${b.skills.slice(0,3).join(", ")}, I am confident I can bring valuable contributions to your team.

I have attached my resume for your review and would welcome the opportunity to discuss how my skills and experience align with ${a.company}'s needs.

Thank you for your time and consideration.

Best regards,
${b.name}
${b.email}
${b.phone?b.phone:""}`}],d=Math.floor(Math.random()*c.length);return c[d]}async function aF(a,b,c){let d=[];for(let e=0;e<a.length;e++){let f=a[e];try{e>0&&await new Promise(a=>setTimeout(a,4e3));let g=await aD(f,b);d.push({contact:f,subject:g.subject,body:g.body}),c&&c(e+1,a.length)}catch(h){console.error(`Error generating email for ${f.name}:`,h);let g=aE(f,b);d.push({contact:f,subject:g.subject,body:g.body}),c&&c(e+1,a.length)}}return d}function aG({contacts:a,resumeData:b,onEmailGenerated:c,onPrevious:d,onNext:e}){let[f,g]=(0,q.useState)(!1),[h,i]=(0,q.useState)([]),[j,k]=(0,q.useState)(null),[l,m]=(0,q.useState)(0),[n,o]=(0,q.useState)(null),[r,s]=(0,q.useState)(""),[t,u]=(0,q.useState)(""),[v,w]=(0,q.useState)(!1),[x,y]=(0,q.useState)(!1),[C,E]=(0,q.useState)(""),[F,G]=(0,q.useState)(""),[J,L]=(0,q.useState)(!1),[M,N]=(0,q.useState)(!1),T=async()=>{if(!b||0===a.length)return;g(!0),m(0);let c=[];try{M?a.forEach((d,e)=>{let f=aE(d,b),g={id:`template-${e}`,subject:f.subject,body:f.body,company:d.company,contact:d};c.push(g),m((e+1)/a.length*100)}):(await aF(a,b,(a,b)=>{m(a/b*100)})).forEach((a,b)=>{let d={id:`template-${b}`,subject:a.subject,body:a.body,company:a.contact.company,contact:a.contact};c.push(d)})}catch(d){console.error("Error in batch email generation:",d),L(!0),a.forEach((a,d)=>{let e=aE(a,b),f={id:`template-${d}`,subject:e.subject,body:e.body,company:a.company,contact:a};c.push(f)})}i(c),w(!0),g(!1)},U=a=>{k(a)},V=a=>{o(a),s(a.subject),u(a.body)},W=(()=>{let b=[...new Set(a.map(a=>a.company))];return{totalCompanies:b.length,totalContacts:a.length,companies:b}})();return(0,p.jsx)("div",{className:"w-full max-w-6xl mx-auto",children:(0,p.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)(D,{className:"h-8 w-8 text-blue-500"}),(0,p.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Generate Cold Emails"})]}),(0,p.jsx)("div",{className:"flex items-center space-x-4",children:(0,p.jsxs)("div",{className:"text-sm text-gray-600",children:[W.totalCompanies," companies • ",W.totalContacts," contacts"]})})]}),!b&&(0,p.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,p.jsx)("p",{className:"text-yellow-800",children:"Please upload your resume first to generate personalized emails."})}),0===a.length&&(0,p.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,p.jsx)("p",{className:"text-yellow-800",children:"Please upload your contact list first to generate emails."})}),b&&a.length>0&&(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-blue-800 mb-2",children:[(0,p.jsx)(O,{className:"h-5 w-5"}),(0,p.jsx)("span",{className:"font-medium",children:"AI-Powered Email Generation"})]}),(0,p.jsxs)("p",{className:"text-blue-700 text-sm",children:["We'll generate personalized cold emails for all ",a.length," contacts using AI. Each email will be tailored to the specific company and contact person."]}),J&&(0,p.jsxs)("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-800",children:[(0,p.jsx)("span",{className:"text-sm font-medium",children:"⚠️ API Quota Notice:"}),(0,p.jsx)("span",{className:"text-sm",children:"Gemini API quota may be limited. We'll use fallback templates if needed."})]}),(0,p.jsx)("button",{onClick:()=>N(!0),className:"mt-2 text-sm text-yellow-700 hover:text-yellow-800 underline",children:"Use template mode instead"})]})]}),M&&(0,p.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[(0,p.jsx)("div",{className:"flex items-center space-x-2 text-green-800 mb-2",children:(0,p.jsx)("span",{className:"font-medium",children:"Template Mode Active"})}),(0,p.jsx)("p",{className:"text-green-700 text-sm",children:"Using pre-built email templates with personalization. This mode doesn't use AI and won't hit API limits."}),(0,p.jsx)("button",{onClick:()=>N(!1),className:"mt-2 text-sm text-green-700 hover:text-green-800 underline",children:"Switch back to AI mode"})]}),0===h.length&&!v&&(0,p.jsx)("button",{onClick:T,disabled:f,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,p.jsxs)("span",{children:[M?"Creating template emails...":"Generating emails..."," ",Math.round(l),"%"]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(O,{className:"h-5 w-5"}),(0,p.jsx)("span",{children:M?`Create ${a.length} Template Emails`:`Generate ${a.length} AI-Powered Emails`})]})}),f&&(0,p.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,p.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`}})}),v&&h.length>0&&(0,p.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-green-600",children:[(0,p.jsx)(A,{className:"h-6 w-6"}),(0,p.jsxs)("span",{className:"font-medium text-xl",children:[h.length," emails generated successfully!"]})]}),(0,p.jsx)("button",{onClick:()=>w(!1),className:"text-green-600 hover:text-green-700",children:(0,p.jsx)(B,{className:"h-5 w-5"})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-green-600",children:h.length}),(0,p.jsx)("div",{className:"text-sm text-green-600",children:"Emails Generated"})]}),(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-green-600",children:W.totalCompanies}),(0,p.jsx)("div",{className:"text-sm text-green-600",children:"Companies Targeted"})]}),(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Math.round(h.length/W.totalCompanies*10)/10}),(0,p.jsx)("div",{className:"text-sm text-green-600",children:"Avg Emails/Company"})]})]}),(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,p.jsx)(P,{className:"h-4 w-4 mr-2 text-blue-500"}),"Sample Generated Emails (First 3):"]}),(0,p.jsxs)("div",{className:"space-y-3",children:[h.slice(0,3).map((a,b)=>(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)(K,{className:"h-4 w-4 text-gray-400"}),(0,p.jsx)("span",{className:"font-medium text-gray-900",children:a.contact.name}),(0,p.jsxs)("span",{className:"text-sm text-gray-500",children:["(",a.company,")"]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("button",{onClick:()=>U(a),className:"text-blue-600 hover:text-blue-700 text-sm px-2 py-1 rounded hover:bg-blue-50",children:"Preview"}),(0,p.jsx)("button",{onClick:()=>V(a),className:"text-green-600 hover:text-green-700 text-sm px-2 py-1 rounded hover:bg-green-50",children:"Edit"})]})]}),(0,p.jsxs)("div",{className:"space-y-1",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Subject:"}),(0,p.jsx)("p",{className:"text-sm text-gray-900 truncate",children:a.subject})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Preview:"}),(0,p.jsxs)("p",{className:"text-sm text-gray-700 line-clamp-2",children:[a.body.substring(0,150),"..."]})]})]})]},b)),h.length>3&&(0,p.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["... and ",h.length-3," more emails"]})]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("button",{onClick:()=>{y(!0),E(h[0]?.subject||""),G(h[0]?.body||"")},className:"flex items-center space-x-2 px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:[(0,p.jsx)(Q,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:"Edit All Emails"})]}),(0,p.jsxs)("button",{onClick:()=>{c(h),w(!1)},className:"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,p.jsx)("span",{children:"Confirm & Continue"}),(0,p.jsx)(I,{className:"h-4 w-4"})]})]})]}),h.length>0&&!v&&(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Generated Email Templates (",h.length,")"]}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:"Click on any company to view and edit the email"})]}),(0,p.jsx)("div",{className:"grid grid-cols-1 gap-4",children:W.companies.map(b=>{let c=h.filter(a=>a.company===b),d=a.filter(a=>a.company===b);return(0,p.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("h4",{className:"font-semibold text-lg text-gray-900",children:b}),(0,p.jsxs)("p",{className:"text-sm text-gray-600",children:[d.length," contact",d.length>1?"s":""," •",d.map(a=>a.name).join(", ")]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("button",{onClick:()=>U(c[0]),className:"text-blue-600 hover:text-blue-700 p-2 rounded-md hover:bg-blue-50",title:"Preview Email",children:(0,p.jsx)(H,{className:"h-4 w-4"})}),(0,p.jsx)("button",{onClick:()=>V(c[0]),className:"text-green-600 hover:text-green-700 p-2 rounded-md hover:bg-green-50",title:"Edit Email",children:(0,p.jsx)(Q,{className:"h-4 w-4"})})]})]}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Subject:"}),(0,p.jsx)("p",{className:"text-sm text-gray-900 truncate",children:c[0].subject})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Preview:"}),(0,p.jsxs)("p",{className:"text-sm text-gray-700 line-clamp-2",children:[c[0].body.substring(0,150),"..."]})]})]})]},b)})})]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200",children:[(0,p.jsxs)("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,p.jsx)(R,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:"Previous"})]}),h.length>0&&!v&&(0,p.jsxs)("button",{onClick:()=>{c(h),e()},className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,p.jsx)("span",{children:"Next: Send Emails"}),(0,p.jsx)(I,{className:"h-4 w-4"})]})]}),j&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,p.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:(0,p.jsxs)("div",{className:"p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Email Preview - ",j.contact.name]}),(0,p.jsx)("button",{onClick:()=>{k(null)},className:"text-gray-400 hover:text-gray-600",children:(0,p.jsx)(B,{className:"h-5 w-5"})})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"To:"}),(0,p.jsx)("p",{className:"text-gray-900",children:j.contact.email})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Subject:"}),(0,p.jsx)("p",{className:"text-gray-900",children:j.subject})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Body:"}),(0,p.jsx)("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg",children:(0,p.jsx)("pre",{className:"text-sm text-gray-900 whitespace-pre-wrap font-sans",children:j.body})})]})]})]})})}),n&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,p.jsx)("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:(0,p.jsxs)("div",{className:"p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Edit Email - ",n.contact.name," (",n.company,")"]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsxs)("button",{onClick:()=>{if(n){let a={...n,subject:r,body:t};i(h.map(b=>b.id===n.id?a:b)),o(null)}},className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700",children:[(0,p.jsx)(S,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:"Save"})]}),(0,p.jsxs)("button",{onClick:()=>{o(null)},className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[(0,p.jsx)(z,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:"Cancel"})]})]})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Line"}),(0,p.jsx)("input",{type:"text",value:r,onChange:a=>s(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email subject..."})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Body"}),(0,p.jsx)("textarea",{value:t,onChange:a=>u(a.target.value),rows:15,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter email body..."})]}),(0,p.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,p.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,p.jsx)("strong",{children:"Tips:"})," Use line breaks for paragraphs. The email will be sent as both text and HTML format."]})})]})]})})}),x&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,p.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,p.jsxs)("div",{className:"p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Edit All Emails (",h.length," emails)"]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsxs)("button",{onClick:()=>{i(h.map(a=>{let c=C.replace(/\[Contact Name\]/g,a.contact.name).replace(/\[Company Name\]/g,a.company).replace(/\[Your Name\]/g,b?.name||"[Your Name]").replace(/\[Your Email\]/g,b?.email||"[Your Email]").replace(/\[Your Phone\]/g,b?.phone||"[Your Phone]").replace(/\[Your Experience\]/g,b?.experience||"[Your Experience]").replace(/\[Your Skills\]/g,b?.skills?.slice(0,3).join(", ")||"[Your Skills]"),d=F.replace(/\[Contact Name\]/g,a.contact.name).replace(/\[Company Name\]/g,a.company).replace(/\[Your Name\]/g,b?.name||"[Your Name]").replace(/\[Your Email\]/g,b?.email||"[Your Email]").replace(/\[Your Phone\]/g,b?.phone||"[Your Phone]").replace(/\[Your Experience\]/g,b?.experience||"[Your Experience]").replace(/\[Your Skills\]/g,b?.skills?.slice(0,3).join(", ")||"[Your Skills]");return{...a,subject:c,body:d}})),y(!1),E(""),G("")},className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700",children:[(0,p.jsx)(S,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:"Apply to All"})]}),(0,p.jsxs)("button",{onClick:()=>{y(!1),E(""),G("")},className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[(0,p.jsx)(z,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:"Cancel"})]})]})]}),(0,p.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-800",children:[(0,p.jsx)("span",{className:"text-sm font-medium",children:"⚠️ Warning:"}),(0,p.jsxs)("span",{className:"text-sm",children:["This will update the subject and body for ALL ",h.length," emails. Individual contact names and companies will still be personalized."]})]})}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Line Template"}),(0,p.jsx)("input",{type:"text",value:C,onChange:a=>E(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Job Application - [Your Name] for [Company Name]"}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use [Company Name] or [Contact Name] for personalization"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Body Template"}),(0,p.jsx)("textarea",{value:F,onChange:a=>G(a.target.value),rows:15,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:`Dear [Contact Name],

I hope this email finds you well. I am writing to express my interest in potential opportunities at [Company Name].

With my background in [Your Experience] and skills in [Your Skills], I believe I could be a valuable addition to your team.

I have attached my resume for your review and would welcome the opportunity to discuss how my experience aligns with your company's needs.

Thank you for your time and consideration.

Best regards,
[Your Name]
[Your Email]
[Your Phone]`}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use [Contact Name], [Company Name], [Your Name], [Your Email], [Your Phone], [Your Experience], [Your Skills] for personalization"})]}),(0,p.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,p.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,p.jsx)("strong",{children:"Tips:"}),(0,p.jsxs)("ul",{className:"mt-1 space-y-1",children:[(0,p.jsx)("li",{children:"• Use line breaks for paragraphs"}),(0,p.jsx)("li",{children:"• Use [Contact Name] and [Company Name] for personalization"}),(0,p.jsx)("li",{children:"• Use [Your Name], [Your Email], [Your Phone] for your details"}),(0,p.jsx)("li",{children:"• Use [Your Experience] and [Your Skills] for your background"})]})]})})]})]})})})]})})}let aH=v("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),aI=v("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),aJ=v("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function aK({emailTemplates:a,resumeFile:b,onEmailsSent:c,onPrevious:d,onNext:e}){let[f,g]=(0,q.useState)(!1),[h,i]=(0,q.useState)([]),[j,k]=(0,q.useState)(0),[l,m]=(0,q.useState)(""),[n,o]=(0,q.useState)(""),[r,s]=(0,q.useState)(!1),[t,u]=(0,q.useState)(!1),v=async()=>{if(!l||!n||0===a.length)return;g(!0),k(0);let c=[];for(let d=0;d<a.length;d++){let e=a[d];k((d+1)/a.length*100);let f={id:`tracking-${d}`,contact:e.contact,emailTemplate:e,status:"pending",sentAt:new Date};c.push(f);try{let a=new FormData;a.append("to",e.contact.email),a.append("subject",e.subject),a.append("body",e.body),a.append("senderEmail",l),a.append("senderPassword",n),a.append("contactName",e.contact.name),a.append("company",e.company),b&&a.append("resumeFile",b);let c=await fetch("/api/send-email",{method:"POST",body:a});if(c.ok)f.status="sent",f.sentAt=new Date;else{let a=await c.json();f.status="failed",f.error=a.error||"Failed to send email",("NETWORK_ERROR"===a.code||"TIMEOUT"===a.code)&&(f.error+=" (Cloudflare restriction detected - try using a different email service)")}}catch(a){console.error(`Error sending email to ${e.contact.email}:`,a),f.status="failed",f.error=a instanceof Error?a.message:"Unknown error"}await new Promise(a=>setTimeout(a,2e3))}i(c),s(!0),g(!1)},w=a=>{switch(a){case"sent":return(0,p.jsx)(A,{className:"h-4 w-4 text-green-500"});case"failed":return(0,p.jsx)(aH,{className:"h-4 w-4 text-red-500"});case"pending":return(0,p.jsx)(aI,{className:"h-4 w-4 text-yellow-500"});default:return(0,p.jsx)(D,{className:"h-4 w-4 text-gray-400"})}},x=a=>{switch(a){case"sent":return"text-green-600 bg-green-50 border-green-200";case"failed":return"text-red-600 bg-red-50 border-red-200";case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},y=(()=>{let b=[...new Set(a.map(a=>a.company))];return{totalCompanies:b.length,totalEmails:a.length,companies:b}})();return(0,p.jsx)("div",{className:"w-full max-w-6xl mx-auto",children:(0,p.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,p.jsx)(aJ,{className:"h-8 w-8 text-green-500"}),(0,p.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Send Cold Emails"})]}),0===a.length&&(0,p.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,p.jsx)("p",{className:"text-yellow-800",children:"Please generate email templates first before sending emails."})}),a.length>0&&(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-green-800 mb-2",children:[(0,p.jsx)(aJ,{className:"h-5 w-5"}),(0,p.jsx)("span",{className:"font-medium",children:"Email Sending Configuration"})]}),(0,p.jsxs)("p",{className:"text-green-700 text-sm",children:["Configure your email settings to send ",a.length," personalized emails."]}),(0,p.jsxs)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800",children:[(0,p.jsx)("strong",{children:"Note:"})," If you experience email sending issues in production, it might be due to Cloudflare Workers restrictions. Consider using alternative email services like SendGrid, Mailgun, or your own SMTP server."]})]}),!t&&(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Email Address"}),(0,p.jsx)("input",{type:"email",value:l,onChange:a=>m(a.target.value),placeholder:"your-email@gmail.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"App Password"}),(0,p.jsx)("input",{type:"password",value:n,onChange:a=>o(a.target.value),placeholder:"Your app password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,p.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use Gmail App Password for security"}),(0,p.jsxs)("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[(0,p.jsx)("p",{className:"text-xs text-blue-800 font-medium mb-1",children:"How to get Gmail App Password:"}),(0,p.jsxs)("ol",{className:"text-xs text-blue-700 space-y-1",children:[(0,p.jsxs)("li",{children:["1. ",(0,p.jsx)("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Go to Google App Passwords"})]}),(0,p.jsx)("li",{children:"2. Sign in with your Google account"}),(0,p.jsx)("li",{children:'3. Create an App Password for "Mail"'}),(0,p.jsx)("li",{children:"4. Use the 16-character password here"})]})]})]})]}),t&&(0,p.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600",children:[(0,p.jsx)(H,{className:"h-5 w-5"}),(0,p.jsx)("span",{className:"font-medium text-lg",children:"Email Configuration Preview"})]}),(0,p.jsx)("button",{onClick:()=>u(!1),className:"text-blue-600 hover:text-blue-700",children:(0,p.jsx)(B,{className:"h-5 w-5"})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[(0,p.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Sender Information"}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"From Email:"}),(0,p.jsx)("p",{className:"text-sm text-gray-900",children:l})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Status:"}),(0,p.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"✓ Configured"})]})]})]}),(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[(0,p.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Campaign Summary"}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Emails:"}),(0,p.jsx)("p",{className:"text-sm text-gray-900",children:y.totalEmails})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Companies:"}),(0,p.jsx)("p",{className:"text-sm text-gray-900",children:y.totalCompanies})]})]})]})]}),(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,p.jsx)(K,{className:"h-4 w-4 mr-2 text-blue-500"}),"Sample Recipients (First 5):"]}),(0,p.jsxs)("div",{className:"space-y-2",children:[a.slice(0,5).map((a,b)=>(0,p.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded border",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)(D,{className:"h-4 w-4 text-gray-400"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.contact.name}),(0,p.jsx)("p",{className:"text-xs text-gray-500",children:a.contact.email}),(0,p.jsx)("p",{className:"text-xs text-gray-400",children:a.company})]})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsx)("p",{className:"text-xs text-gray-500",children:"Subject:"}),(0,p.jsx)("p",{className:"text-xs text-gray-900 truncate max-w-xs",children:a.subject})]})]},b)),a.length>5&&(0,p.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["... and ",a.length-5," more recipients"]})]})]}),(0,p.jsx)("div",{className:"flex justify-end",children:(0,p.jsxs)("button",{onClick:v,disabled:f,className:"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,p.jsx)(aJ,{className:"h-4 w-4"}),(0,p.jsxs)("span",{children:["Send ",a.length," Emails"]})]})})]}),!t&&(0,p.jsxs)("button",{onClick:()=>u(!0),disabled:!l||!n,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,p.jsx)(H,{className:"h-5 w-5"}),(0,p.jsxs)("span",{children:["Preview & Send ",a.length," Emails"]})]}),f&&(0,p.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,p.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${j}%`}})}),r&&h.length>0&&(0,p.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 text-green-600",children:[(0,p.jsx)(A,{className:"h-6 w-6"}),(0,p.jsx)("span",{className:"font-medium text-xl",children:"Email Campaign Completed!"})]}),(0,p.jsx)("button",{onClick:()=>s(!1),className:"text-green-600 hover:text-green-700",children:(0,p.jsx)(B,{className:"h-5 w-5"})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-green-600",children:h.filter(a=>"sent"===a.status).length}),(0,p.jsx)("div",{className:"text-sm text-green-600",children:"Successfully Sent"})]}),(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-red-600",children:h.filter(a=>"failed"===a.status).length}),(0,p.jsx)("div",{className:"text-sm text-red-600",children:"Failed"})]}),(0,p.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,p.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(h.filter(a=>"sent"===a.status).length/h.length*100),"%"]}),(0,p.jsx)("div",{className:"text-sm text-green-600",children:"Success Rate"})]})]}),(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,p.jsx)(P,{className:"h-4 w-4 mr-2 text-blue-500"}),"Sample Results (First 5):"]}),(0,p.jsxs)("div",{className:"space-y-2",children:[h.slice(0,5).map(a=>(0,p.jsxs)("div",{className:`flex items-center justify-between p-3 rounded-lg border ${x(a.status)}`,children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[w(a.status),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-medium text-sm",children:a.contact.name}),(0,p.jsx)("p",{className:"text-xs opacity-75",children:a.contact.email}),(0,p.jsx)("p",{className:"text-xs opacity-75",children:a.contact.company})]})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsx)("p",{className:"text-sm font-medium capitalize",children:a.status}),a.sentAt&&(0,p.jsx)("p",{className:"text-xs opacity-75",children:a.sentAt.toLocaleTimeString()})]})]},a.id)),h.length>5&&(0,p.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["... and ",h.length-5," more results"]})]})]}),(0,p.jsx)("div",{className:"flex justify-end",children:(0,p.jsxs)("button",{onClick:()=>{c(h),s(!1)},className:"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,p.jsx)("span",{children:"View Full Results"}),(0,p.jsx)(I,{className:"h-4 w-4"})]})})]}),h.length>0&&!r&&(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Email Sending Status (",h.length,")"]}),(0,p.jsx)("div",{className:"space-y-3",children:h.map(a=>(0,p.jsxs)("div",{className:`flex items-center justify-between p-4 rounded-lg border ${x(a.status)}`,children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[w(a.status),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-medium",children:a.contact.name}),(0,p.jsx)("p",{className:"text-sm opacity-75",children:a.contact.email}),(0,p.jsx)("p",{className:"text-xs opacity-75",children:a.contact.company})]})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsx)("p",{className:"text-sm font-medium capitalize",children:a.status}),a.sentAt&&(0,p.jsx)("p",{className:"text-xs opacity-75",children:a.sentAt.toLocaleTimeString()}),a.error&&(0,p.jsx)("p",{className:"text-xs opacity-75",children:a.error})]})]},a.id))}),(0,p.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,p.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Summary"}),(0,p.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,p.jsx)("div",{children:(0,p.jsxs)("span",{className:"text-green-600 font-medium",children:[h.filter(a=>"sent"===a.status).length," Sent"]})}),(0,p.jsx)("div",{children:(0,p.jsxs)("span",{className:"text-red-600 font-medium",children:[h.filter(a=>"failed"===a.status).length," Failed"]})}),(0,p.jsx)("div",{children:(0,p.jsxs)("span",{className:"text-yellow-600 font-medium",children:[h.filter(a=>"pending"===a.status).length," Pending"]})})]})]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200",children:[d&&(0,p.jsxs)("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,p.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,p.jsx)("span",{children:"Previous"})]}),h.length>0&&!r&&e&&(0,p.jsxs)("button",{onClick:()=>{c(h),e()},className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,p.jsx)("span",{children:"Next: View Results"}),(0,p.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})}let aL=v("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),aM=v("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),aN=v("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),aO=v("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),aP=v("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);function aQ({onGetStarted:a}){return(0,p.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,p.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,p.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,p.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,p.jsx)(aL,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"}),(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3",children:[(0,p.jsx)("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"AutoBot"}),(0,p.jsx)("span",{className:"text-xs sm:text-sm text-gray-500",children:"Cold Email Automation"})]})]})})})}),(0,p.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:[(0,p.jsxs)("div",{className:"text-center mb-12 sm:mb-16",children:[(0,p.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,p.jsx)(aL,{className:"h-16 w-16 sm:h-20 sm:w-20 text-blue-600 mx-auto mb-4 sm:mb-6"}),(0,p.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 px-4",children:"Automate Your Cold Email Campaigns"}),(0,p.jsx)("p",{className:"text-base sm:text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto px-4",children:"Generate personalized cold emails at scale using AI. Upload your resume, add contacts, and let AutoBot create compelling emails that get responses."})]}),(0,p.jsxs)("button",{onClick:a,className:"inline-flex items-center px-6 sm:px-8 py-3 sm:py-4 bg-blue-600 text-white text-base sm:text-lg font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:["Get Started",(0,p.jsx)(aM,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5"})]})]}),(0,p.jsxs)("div",{className:"mb-12 sm:mb-16",children:[(0,p.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-8 sm:mb-12 px-4",children:"How AutoBot Works"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"bg-blue-100 p-3 sm:p-4 rounded-full w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 flex items-center justify-center",children:(0,p.jsx)(y,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})}),(0,p.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"1. Upload Resume"}),(0,p.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm px-2",children:"Upload your PDF resume or manually enter your professional details"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"bg-green-100 p-3 sm:p-4 rounded-full w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 flex items-center justify-center",children:(0,p.jsx)(K,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})}),(0,p.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"2. Add Contacts"}),(0,p.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm px-2",children:"Upload a CSV file with your target contacts or add them manually"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"bg-purple-100 p-3 sm:p-4 rounded-full w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 flex items-center justify-center",children:(0,p.jsx)(D,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600"})}),(0,p.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"3. Generate Emails"}),(0,p.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm px-2",children:"AI creates personalized emails for each contact based on your profile"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"bg-orange-100 p-3 sm:p-4 rounded-full w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 flex items-center justify-center",children:(0,p.jsx)(aN,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600"})}),(0,p.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"4. Send & Track"}),(0,p.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm px-2",children:"Send emails directly and track your campaign performance"})]})]})]}),(0,p.jsxs)("div",{className:"mb-12 sm:mb-16",children:[(0,p.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-8 sm:mb-12 px-4",children:"Why Choose AutoBot?"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[(0,p.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[(0,p.jsxs)("div",{className:"flex items-center mb-3 sm:mb-4",children:[(0,p.jsx)(aO,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500 mr-2 sm:mr-3"}),(0,p.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"AI-Powered"})]}),(0,p.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Advanced AI generates personalized emails that resonate with each recipient"})]}),(0,p.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[(0,p.jsxs)("div",{className:"flex items-center mb-3 sm:mb-4",children:[(0,p.jsx)(aP,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500 mr-2 sm:mr-3"}),(0,p.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Secure & Private"})]}),(0,p.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Your data stays on your device. No data is stored on our servers"})]}),(0,p.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md sm:col-span-2 lg:col-span-1",children:[(0,p.jsxs)("div",{className:"flex items-center mb-3 sm:mb-4",children:[(0,p.jsx)(aI,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-500 mr-2 sm:mr-3"}),(0,p.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Time-Saving"})]}),(0,p.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Generate hundreds of personalized emails in minutes, not hours"})]})]})]}),(0,p.jsxs)("div",{className:"text-center bg-white p-6 sm:p-8 rounded-lg shadow-md",children:[(0,p.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Ready to Transform Your Outreach?"}),(0,p.jsx)("p",{className:"text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base px-4",children:"Join thousands of professionals who are already using AutoBot to scale their cold email campaigns"}),(0,p.jsxs)("button",{onClick:a,className:"inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:["Start Your First Campaign",(0,p.jsx)(aM,{className:"ml-2 h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]})}function aR(a,b){let[c,d]=(0,q.useState)(b),[e,f]=(0,q.useState)(!1);return[c,d]}function aS(){let[a,b]=aR("autobot-resume-data",null),[c,d]=aR("autobot-contacts",[]),[e,f]=aR("autobot-email-templates",[]),[g,h]=aR("autobot-email-tracking",[]),[i,j]=aR("autobot-current-step",1),[k,l]=aR("autobot-has-seen-welcome",!1),[m,n]=(0,q.useState)(null),[o,r]=(0,q.useState)(!1),[s,t]=(0,q.useState)(!1),u=()=>{b(null),n(null),d([]),f([]),h([]),j(1)},v=a=>a<i?"completed":a===i?"current":"upcoming",w=a=>{switch(a){case 1:return(0,p.jsx)(y,{className:"h-5 w-5"});case 2:return(0,p.jsx)(K,{className:"h-5 w-5"});case 3:return(0,p.jsx)(D,{className:"h-5 w-5"});case 4:return(0,p.jsx)(aL,{className:"h-5 w-5"});case 5:return(0,p.jsx)(aN,{className:"h-5 w-5"});default:return null}},x=a=>{switch(a){case 1:return"Upload Resume";case 2:return"Upload Contacts";case 3:return"Generate Emails";case 4:return"Send Emails";case 5:return"Track Results";default:return""}};return k?(0,p.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,p.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,p.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,p.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,p.jsx)(aL,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"}),(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3",children:[(0,p.jsx)("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"AutoBot"}),(0,p.jsx)("span",{className:"text-xs sm:text-sm text-gray-500",children:"Cold Email Automation"})]})]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,p.jsx)("div",{className:"hidden sm:block text-sm text-gray-500",children:"Powered by AI"}),(0,p.jsxs)("button",{onClick:()=>l(!1),className:"text-xs text-gray-600 hover:text-gray-800 px-2 py-1 border border-gray-200 rounded-md hover:bg-gray-50",title:"Back to welcome page",children:[(0,p.jsx)("span",{className:"hidden sm:inline",children:"Welcome"}),(0,p.jsx)("span",{className:"sm:hidden",children:"←"})]}),s&&(a||c.length>0||e.length>0)&&(0,p.jsxs)("div",{className:"hidden sm:flex items-center space-x-2",children:[(0,p.jsx)("button",{onClick:()=>{let b=new Blob([JSON.stringify({resumeData:a,contacts:c,emailTemplates:e,emailTracking:g,currentStep:i,exportDate:new Date().toISOString()},null,2)],{type:"application/json"}),d=URL.createObjectURL(b),f=document.createElement("a");f.href=d,f.download=`autobot-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)},className:"text-xs text-blue-600 hover:text-blue-700 px-2 py-1 border border-blue-200 rounded-md hover:bg-blue-50",title:"Export data backup",children:"Export"}),(0,p.jsxs)("label",{className:"text-xs text-green-600 hover:text-green-700 px-2 py-1 border border-green-200 rounded-md hover:bg-green-50 cursor-pointer",title:"Import data backup",children:["Import",(0,p.jsx)("input",{type:"file",accept:".json",onChange:a=>{let c=a.target.files?.[0];if(!c)return;let e=new FileReader;e.onload=a=>{try{let c=JSON.parse(a.target?.result);c.resumeData&&b(c.resumeData),c.contacts&&d(c.contacts),c.emailTemplates&&f(c.emailTemplates),c.emailTracking&&h(c.emailTracking),c.currentStep&&j(c.currentStep),alert("Data imported successfully!")}catch(a){console.error("Error importing data:",a),alert("Error importing data. Please check the file format.")}},e.readAsText(c)},className:"hidden"})]}),(0,p.jsx)("button",{onClick:u,className:"text-xs text-red-600 hover:text-red-700 px-2 py-1 border border-red-200 rounded-md hover:bg-red-50",title:"Clear all data",children:"Clear"})]}),s&&(a||c.length>0||e.length>0)&&(0,p.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[(0,p.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,p.jsx)("span",{children:"Data Saved"})]})]})]})})}),s&&o&&(0,p.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:(0,p.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,p.jsx)("span",{className:"text-sm text-green-800 font-medium",children:"Data recovered! Your previous session has been restored."})]}),(0,p.jsx)("button",{onClick:()=>r(!1),className:"text-green-600 hover:text-green-800",children:(0,p.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),(0,p.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[(0,p.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,p.jsxs)("div",{className:"sm:hidden",children:[(0,p.jsx)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[1,2,3,4,5].map(a=>(0,p.jsxs)("div",{className:"flex flex-col items-center",children:[(0,p.jsx)("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${"completed"===v(a)?"bg-green-500 border-green-500 text-white":"current"===v(a)?"bg-blue-500 border-blue-500 text-white":"bg-white border-gray-300 text-gray-400"}`,children:"completed"===v(a)?(0,p.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,p.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):w(a)}),(0,p.jsx)("p",{className:`text-xs font-medium mt-1 ${"completed"===v(a)?"text-green-600":"current"===v(a)?"text-blue-600":"text-gray-500"}`,children:a})]},a))}),(0,p.jsx)("div",{className:"text-center",children:(0,p.jsx)("p",{className:`text-sm font-medium ${"completed"===v(i)?"text-green-600":"current"===v(i)?"text-blue-600":"text-gray-500"}`,children:x(i)})})]}),(0,p.jsx)("div",{className:"hidden sm:flex items-center justify-between",children:[1,2,3,4,5].map(a=>(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${"completed"===v(a)?"bg-green-500 border-green-500 text-white":"current"===v(a)?"bg-blue-500 border-blue-500 text-white":"bg-white border-gray-300 text-gray-400"}`,children:"completed"===v(a)?(0,p.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,p.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):w(a)}),(0,p.jsx)("div",{className:"ml-3",children:(0,p.jsx)("p",{className:`text-sm font-medium ${"completed"===v(a)?"text-green-600":"current"===v(a)?"text-blue-600":"text-gray-500"}`,children:x(a)})}),a<5&&(0,p.jsx)("div",{className:`ml-8 w-16 h-0.5 ${"completed"===v(a)?"bg-green-500":"bg-gray-300"}`})]},a))})]}),(0,p.jsxs)("div",{className:"space-y-8",children:[i>=1&&(0,p.jsx)("div",{className:1===i?"block":"hidden",children:(0,p.jsx)(J,{onResumeUpload:(a,c)=>{b(a),n(c||null),j(2)},onNext:()=>j(2)})}),i>=2&&(0,p.jsx)("div",{className:2===i?"block":"hidden",children:(0,p.jsx)(N,{onContactsUpload:a=>{d(a),j(3)},onPrevious:()=>j(1),onNext:()=>j(3)})}),i>=3&&(0,p.jsx)("div",{className:3===i?"block":"hidden",children:(0,p.jsx)(aG,{contacts:c,resumeData:a,onEmailGenerated:a=>{f(a),j(4)},onPrevious:()=>j(2),onNext:()=>j(4)})}),i>=4&&(0,p.jsx)("div",{className:4===i?"block":"hidden",children:(0,p.jsx)(aK,{emailTemplates:e,resumeFile:m,onEmailsSent:a=>{h(a),j(5)},onPrevious:()=>j(3),onNext:()=>j(5)})}),5===i&&(0,p.jsx)("div",{className:"w-full max-w-4xl mx-auto",children:(0,p.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)(aN,{className:"h-8 w-8 text-green-500"}),(0,p.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Campaign Results"})]}),(0,p.jsx)("button",{onClick:u,className:"text-sm text-red-600 hover:text-red-700 px-3 py-1 border border-red-200 rounded-md hover:bg-red-50",children:"Clear All Data"})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,p.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)("div",{className:"bg-green-100 p-2 rounded-full",children:(0,p.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-2xl font-bold text-green-600",children:g.filter(a=>"sent"===a.status).length}),(0,p.jsx)("p",{className:"text-sm text-green-600",children:"Emails Sent"})]})]})}),(0,p.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)("div",{className:"bg-red-100 p-2 rounded-full",children:(0,p.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-2xl font-bold text-red-600",children:g.filter(a=>"failed"===a.status).length}),(0,p.jsx)("p",{className:"text-sm text-red-600",children:"Failed"})]})]})}),(0,p.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,p.jsx)("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[g.length>0?Math.round(g.filter(a=>"sent"===a.status).length/g.length*100):0,"%"]}),(0,p.jsx)("p",{className:"text-sm text-blue-600",children:"Success Rate"})]})]})})]}),(0,p.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Campaign Summary"}),(0,p.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,p.jsxs)("p",{children:["• Total contacts processed: ",c.length]}),(0,p.jsxs)("p",{children:["• Personalized emails generated: ",e.length]}),(0,p.jsxs)("p",{children:["• Emails sent successfully: ",g.filter(a=>"sent"===a.status).length]}),(0,p.jsxs)("p",{children:["• Campaign completed at: ",new Date().toLocaleString()]})]})]}),(0,p.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,p.jsx)("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Start New Campaign"}),(0,p.jsx)("button",{onClick:()=>window.print(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Export Report"})]})]})})]})]})]}):(0,p.jsx)(aQ,{onGetStarted:()=>{l(!0)}})}},8354:a=>{"use strict";a.exports=require("util")},8920:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,6133,23)),Promise.resolve().then(c.t.bind(c,6444,23)),Promise.resolve().then(c.t.bind(c,6042,23)),Promise.resolve().then(c.t.bind(c,9477,23)),Promise.resolve().then(c.t.bind(c,9345,23)),Promise.resolve().then(c.t.bind(c,2089,23)),Promise.resolve().then(c.t.bind(c,6577,23)),Promise.resolve().then(c.t.bind(c,1307,23)),Promise.resolve().then(c.t.bind(c,4817,23))},8984:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(5239),e=c(8088),f=c(7220),g=c(1289),h=c(6191),i=c(4823),j=c(1998),k=c(2603),l=c(4649),m=c(2781),n=c(2602),o=c(1268),p=c(4853),q=c(261),r=c(5052),s=c(9977),t=c(6713),u=c(3365),v=c(1454),w=c(7778),x=c(6143),y=c(9105),z=c(8171),A=c(6439),B=c(6133),C=c.n(B),D=c(893),E=c(2836),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,1204)),"/Users/aditya/Documents/FitAPP/AutoBot/src/app/page.tsx"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,440))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,4431)),"/Users/aditya/Documents/FitAPP/AutoBot/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,6133,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,849,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,9868,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,9615,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,440))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,H=["/Users/aditya/Documents/FitAPP/AutoBot/src/app/page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next",projectDir:""});async function K(a,b,c){var d;let B="/page";"/index"===B&&(B="/");let F="false",L=(0,h.getRequestMeta)(a,"postponed"),M=(0,h.getRequestMeta)(a,"minimalMode"),N=await J.prepare(a,b,{srcPage:B,multiZoneDraftMode:F});if(!N)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:O,query:P,params:Q,parsedUrl:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac}=N,ad=R.pathname||"/",ae=(0,q.normalizeAppPath)(B),{isOnDemandRevalidate:af}=N,ag=Z.dynamicRoutes[ae],ah=Z.routes[_],ai=!!(ag||ah||Z.routes[ae]),aj=a.headers["user-agent"]||"",ak=(0,t.getBotType)(aj),al=(0,o.isHtmlBotRequest)(a),am=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??!!a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],an=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ao=(0,r.getIsPossibleServerAction)(a),ap=(0,l.checkIsAppPPREnabled)(ac.experimental.ppr)&&(null==(d=Z.routes[ae]??Z.dynamicRoutes[ae])?void 0:d.renderingMode)==="PARTIALLY_STATIC",aq=!1,ar=!1,as=ap?L:void 0,at=ap&&an&&!am,au=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),av=!aj||(0,o.shouldServeStreamingMetadata)(aj,ac.htmlLimitedBots);al&&ap&&(ai=!1,av=!1);let aw=!0===J.isDev||!ai||"string"==typeof L||at,ax=al&&ap,ay=null;$||!ai||aw||ao||as||at||(ay=_);let az=ay;!az&&J.isDev&&(az=_);let aA={...D,tree:G,pages:H,GlobalError:C(),handler:K,routeModule:J,__next_app__:I};W&&X&&(0,n.setReferenceManifestsSingleton)({page:B,clientReferenceManifest:X,serverActionsManifest:W,serverModuleMap:(0,p.createServerModuleMap)({serverActionsManifest:W})});let aB=a.method||"GET",aC=(0,g.getTracer)(),aD=aC.getActiveScopeSpan();try{let d=async(c,d)=>{let e=new k.NodeNextRequest(a),f=new k.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aC.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aB} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aB} ${a.url}`)})},f=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:P,params:Q,page:ae,sharedContext:{buildId:O},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aA,Component:(0,j.T)(aA),params:Q,routeModule:J,page:B,postponed:f,shouldWaitOnAllReady:ax,serveStreamingMetadata:av,supportsDynamicResponse:"string"==typeof f||aw,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,serverActionsManifest:W,clientReferenceManifest:X,setIsrStatus:null==ab?void 0:ab.setIsrStatus,dir:J.projectDir,isDraftMode:$,isRevalidate:ai&&!f&&!at,botType:ak,isOnDemandRevalidate:af,isPossibleServerAction:ao,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,previewProps:Z.preview,deploymentId:ac.deploymentId,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,devtoolSegmentExplorer:ac.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:F,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ac.experimental.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...aq?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:aq}:{},experimental:{isRoutePPREnabled:ap,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicIO:!!ac.experimental.dynamicIO,clientSegmentCache:!!ac.experimental.clientSegmentCache,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[]},waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},k=await d(e,i),{metadata:l}=k,{cacheControl:m,headers:n={},fetchTags:o}=l;if(o&&(n[x.NEXT_CACHE_TAGS_HEADER]=o),a.fetchMetrics=l.fetchMetrics,ai&&(null==m?void 0:m.revalidate)===0&&!J.isDev&&!ap){let a=l.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:u.CachedRouteKind.APP_PAGE,html:k,headers:n,rscData:l.flightData,postponed:l.postponed,status:l.statusCode,segmentData:l.segmentData},cacheControl:m}},l=async({hasResolved:d,previousCacheEntry:g,isRevalidating:i,span:j})=>{let k,l=!1===J.isDev,n=d||b.writableEnded;if(af&&aa&&!g&&!M)return(null==ab?void 0:ab.render404)?await ab.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ag&&(k=(0,v.parseFallbackField)(ag.fallback)),k===v.FallbackMode.PRERENDER&&(0,t.isBot)(aj)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),(null==g?void 0:g.isStale)===-1&&(af=!0),af&&(k!==v.FallbackMode.NOT_FOUND||g)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),!M&&k!==v.FallbackMode.BLOCKING_STATIC_RENDER&&az&&!n&&!$&&S&&(l||!ah)){let b;if((l||ag)&&k===v.FallbackMode.NOT_FOUND)throw new A.NoFallbackError;if(ap&&!an){if(b=await J.handleResponse({cacheKey:l?ae:null,req:a,nextConfig:ac,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:Z,isRoutePPREnabled:ap,responseGenerator:async()=>f({span:j,postponed:void 0,fallbackRouteParams:l||ar?(0,m.u)(ae):null}),waitUntil:c.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=af||i||!as?void 0:as;if(aq&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:u.CachedRouteKind.PAGES,html:w.default.fromStatic(""),pageData:{},headers:void 0,status:void 0}};let p=S&&ap&&((0,h.getRequestMeta)(a,"renderFallbackShell")||ar)?(0,m.u)(ad):null;return f({span:j,postponed:o,fallbackRouteParams:p})},n=async d=>{var g,i,j,k,m;let n,o=await J.handleResponse({cacheKey:ay,responseGenerator:a=>l({span:d,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:af,isRoutePPREnabled:ap,req:a,nextConfig:ac,prerenderManifest:Z,waitUntil:c.waitUntil});if($&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),J.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!o){if(ay)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(g=o.value)?void 0:g.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(j=o.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof o.value.postponed;ai&&!at&&(!p||am)&&(M||b.setHeader("x-nextjs-cache",af?"REVALIDATED":o.isMiss?"MISS":o.isStale?"STALE":"HIT"),b.setHeader(s.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=o;if(as)n={revalidate:0,expire:void 0};else if(M&&an&&!am&&ap)n={revalidate:0,expire:void 0};else if(!J.isDev)if($)n={revalidate:0,expire:void 0};else if(ai){if(o.cacheControl)if("number"==typeof o.cacheControl.revalidate){if(o.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${o.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});n={revalidate:o.cacheControl.revalidate,expire:(null==(k=o.cacheControl)?void 0:k.expire)??ac.expireTime}}else n={revalidate:x.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(n={revalidate:0,expire:void 0});if(o.cacheControl=n,"string"==typeof au&&(null==q?void 0:q.kind)===u.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(m=q.headers)?void 0:m[x.NEXT_CACHE_TAGS_HEADER];M&&ai&&c&&"string"==typeof c&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(au);return void 0!==d?(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(d),cacheControl:o.cacheControl}):(b.statusCode=204,(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(""),cacheControl:o.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...o,value:{...o.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&as)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(M&&ai||delete a[x.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let t=null==(i=q.headers)?void 0:i[x.NEXT_CACHE_TAGS_HEADER];if(M&&ai&&t&&"string"==typeof t&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,t),!q.status||an&&ap||(b.statusCode=q.status),!M&&q.status&&E.RedirectStatusCode[q.status]&&an&&(b.statusCode=200),p&&b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"1"),an&&!$){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:q.html,cacheControl:at?{revalidate:0,expire:void 0}:o.cacheControl})}return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(q.rscData),cacheControl:o.cacheControl})}let v=q.html;if(!p||M)return(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:o.cacheControl});if(aq)return v.chain(new ReadableStream({start(a){a.enqueue(y.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}});let A=new TransformStream;return v.chain(A.readable),f({span:d,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(A.writable)}).catch(a=>{A.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}})};if(!aD)return await aC.withPropagatedContext(a.headers,()=>aC.trace(i.BaseServerSpan.handleRequest,{spanName:`${aB} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aB,"http.target":a.url}},n));await n(aD)}catch(b){throw aD||b instanceof A.NoFallbackError||await J.onRequestError(a,b,{routerKind:"App Router",routePath:B,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ai,isOnDemandRevalidate:af})},ab),b}}},9021:a=>{"use strict";a.exports=require("fs")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:a=>{"use strict";a.exports=require("url")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[985,568],()=>b(b.s=8984));module.exports=c})();